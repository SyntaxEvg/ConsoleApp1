// Скомпилированное регулярное выражение
    private static readonly Regex DecodingPattern = new Regex(
        @"\[\|\$([0-9,]+)\$\|\]",
        RegexOptions.Compiled
    );
    
    public static string DecodeWrappedText(string input)
    {
        if (string.IsNullOrEmpty(input))
        {
            return string.Empty;
        }
        
        string result = DecodingPattern.Replace(input, match =>
        {
            // Получаем строку с кодами (группа 1)
            string codes = match.Groups[1].Value;
            
            // Разбиваем по запятой
            string[] codeArray = codes.Split(',');
            
            StringBuilder sb = new StringBuilder();
            
            foreach (string code in codeArray)
            {
                if (!string.IsNullOrEmpty(code))
                {
                    int charCode = int.Parse(code);
                    if (charCode != 0)
                    {
                        sb.Append((char)charCode);
                    }
                }
            }
            
            return sb.ToString();
        });
        
        return result;
    }
